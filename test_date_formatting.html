<!DOCTYPE html>
<html>
<head>
    <title>Date Formatting Test</title>
</head>
<body>
    <h1>Date Formatting Test</h1>
    <div id="output"></div>

    <script>
        function formatDate(dateStr) {
            if (!dateStr) return '';
            // Parse as local date to avoid timezone shifts
            // dateStr format: "2025-05-20"
            const parts = dateStr.split('-');
            if (parts.length === 3) {
                // Create date as local time (month is 0-indexed)
                const date = new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));
                return date.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric' 
                });
            }
            // Fallback for other formats
            return dateStr;
        }

        // Test the date formatting
        const testDate = "2025-05-20";
        const formatted = formatDate(testDate);
        
        document.getElementById('output').innerHTML = `
            <p>Input date: ${testDate}</p>
            <p>Formatted date: ${formatted}</p>
            <p>Expected: May 20, 2025</p>
            <p>Test Result: ${formatted === "May 20, 2025" ? "PASS" : "FAIL"}</p>
        `;
    </script>
</body>
</html>