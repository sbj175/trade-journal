# =============================================================================
# OptionLedger Environment Variables
# Copy this file to .env and fill in your values
# =============================================================================

# --- Database ----------------------------------------------------------------
# PostgreSQL password (required for Docker Compose)
POSTGRES_PASSWORD=change-me-to-a-strong-password

# Database URL (default: SQLite if not set)
# For Docker Compose, this is overridden inside the container
# For local dev with PostgreSQL:
# DATABASE_URL=postgresql://optionledger:${POSTGRES_PASSWORD}@localhost:5432/optionledger

# --- Tastytrade OAuth --------------------------------------------------------
# Get these from: my.tastytrade.com > Manage > My Profile > API > OAuth Applications
TASTYTRADE_CLIENT_ID=
TASTYTRADE_CLIENT_SECRET=
TASTYTRADE_REDIRECT_URI=http://localhost:8000/auth/tastytrade/callback

# Legacy single-user credentials (used when auth is disabled)
# TASTYTRADE_REFRESH_TOKEN=

# --- User Authentication (Supabase) -----------------------------------------
# When SUPABASE_JWT_SECRET is set, auth is enforced on all /api/* endpoints
# When not set, app works as single-user local app
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_JWT_SECRET=your-jwt-secret

# --- Credential Encryption ---------------------------------------------------
# Fernet key for encrypting stored Tastytrade credentials
# Auto-generated at startup if not set (credentials won't survive restarts)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# CREDENTIAL_ENCRYPTION_KEY=

# --- Admin Dashboard ---------------------------------------------------------
# Secret key required to access the admin dashboard at :8001
# ADMIN_SECRET=

# --- App Settings ------------------------------------------------------------
# Timezone for trade timestamps (default: America/New_York)
TIMEZONE=America/New_York

# Max users allowed in beta (admin enforcement)
# BETA_MAX_USERS=10

# --- Redis (Docker Compose sets this automatically) --------------------------
# REDIS_URL=redis://localhost:6379/0
